<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Crypto Signals PRO</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="https://s3.tradingview.com/tv.js"></script>

<style>

body {
  margin:0;
  font-family: Inter, Arial;
  background: radial-gradient(circle at top,#0f172a,#020617);
  color:white;
}

/* LOADER */

#loader {
  position:fixed;
  inset:0;
  background:#020617;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  z-index:9999;
}

.dots span {
  animation: blink 1.4s infinite both;
  font-size:30px;
}

.dots span:nth-child(2){animation-delay:.2s}
.dots span:nth-child(3){animation-delay:.4s}

@keyframes blink {
  0%,80%,100% {opacity:0}
  40% {opacity:1}
}

/* ONBOARDING */

#onboarding {
  position:fixed;
  inset:0;
  background:#000000ee;
  display:none;
  align-items:center;
  justify-content:center;
  z-index:9998;
}

.onboard-box {
  background:#020617;
  padding:25px;
  border-radius:20px;
  text-align:center;
  max-width:300px;
}

/* HEADER */

.header {
  padding:20px;
  text-align:center;
  font-size:22px;
  font-weight:600;
  background: linear-gradient(90deg,#22c55e,#4ade80);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

.screen { display:none; padding:20px; }
.active { display:block; }

.card {
  background: rgba(30,41,59,0.6);
  backdrop-filter: blur(15px);
  border-radius:20px;
  padding:20px;
  margin-bottom:20px;
}

button {
  width:100%;
  padding:15px;
  border:none;
  border-radius:12px;
  margin-top:10px;
  font-weight:600;
  cursor:pointer;
}

.primary {
  background: linear-gradient(45deg,#22c55e,#4ade80);
}

.navbar {
  position:fixed;
  bottom:0;
  width:100%;
  display:flex;
  background:#020617;
}

.navbar button {
  flex:1;
  border-radius:0;
  background:none;
  color:white;
  font-size:12px;
  padding:12px;
}

.signal-box {
  padding:20px;
  border-radius:15px;
  text-align:center;
  font-size:20px;
}

.buy { background:#052e16; color:#4ade80; }
.sell { background:#2e0505; color:#f87171; }

</style>
</head>

<body>

<!-- LOADER -->
<div id="loader">
  <h2>üöÄ Crypto Signals PRO</h2>
  <div class="dots"><span>‚Ä¢</span><span>‚Ä¢</span><span>‚Ä¢</span></div>
  <p>Loading market...</p>
</div>

<!-- ONBOARDING -->
<div id="onboarding">
  <div class="onboard-box">
    <h3 id="onTitle">üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</h3>
    <p id="onText">–ü–æ–ª—É—á–∞–π—Ç–µ —Ç–æ—á–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã —Ä—ã–Ω–∫–∞</p>
    <button class="primary" onclick="nextOnboard()">–î–∞–ª–µ–µ</button>
  </div>
</div>

<div class="header">üöÄ Crypto Signals PRO</div>

<!-- HOME -->
<div id="home" class="screen active">
  <div class="card">
    <h3>–ì–ª–∞–≤–Ω–∞—è</h3>
    <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</p>
  </div>
</div>

<!-- SIGNAL -->
<div id="signal" class="screen">
  <div class="card">
    <select id="pair">
      <option>BTCUSDT</option>
      <option>ETHUSDT</option>
      <option>SOLUSDT</option>
    </select>

    <select id="timeframe">
      <option>1</option>
      <option>5</option>
      <option>15</option>
      <option>60</option>
    </select>

    <button class="primary" onclick="getSignal()">–ü–æ–ª—É—á–∏—Ç—å —Å–∏–≥–Ω–∞–ª</button>
    <div id="signalBox"></div>
  </div>
</div>

<!-- CHART -->
<div id="chart" class="screen">
  <div class="card">
    <div id="tvchart"></div>
  </div>
</div>

<!-- HISTORY -->
<div id="history" class="screen">
  <div class="card">
    <h3>–ò—Å—Ç–æ—Ä–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤</h3>
    <div id="historyList"></div>
  </div>
</div>

<!-- PROFILE -->
<div id="profile" class="screen">
  <div class="card">
    <div id="profileInfo"></div>
  </div>
</div>

<!-- LEARNING -->
<div id="learning" class="screen">
  <div class="card">
    <h3>–û–±—É—á–µ–Ω–∏–µ</h3>
    <p>üìà BUY ‚Äî –ø–æ–∫—É–ø–∫–∞</p>
    <p>üìâ SELL ‚Äî –ø—Ä–æ–¥–∞–∂–∞</p>
  </div>
</div>

<!-- NAVBAR -->

<div class="navbar">
  <button onclick="show('home')">üè†</button>
  <button onclick="show('signal')">üìà</button>
  <button onclick="show('chart')">üìä</button>
  <button onclick="show('history')">üßæ</button>
  <button onclick="show('profile')">üë§</button>
  <button onclick="show('learning')">üéì</button>
</div>

<script>

const tg = window.Telegram.WebApp;
const user = tg.initDataUnsafe?.user;

let history = JSON.parse(localStorage.getItem("history") || "[]");

function show(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

function getSignal(){
  const signal=Math.random()>0.5?"BUY":"SELL";
  const box=document.getElementById("signalBox");

  if(signal==="BUY"){
    box.innerHTML='<div class="signal-box buy">üìà BUY SIGNAL</div>';
  } else {
    box.innerHTML='<div class="signal-box sell">üìâ SELL SIGNAL</div>';
  }

  history.unshift(signal);
  localStorage.setItem("history", JSON.stringify(history));
  renderHistory();
}

function renderHistory(){
  document.getElementById("historyList").innerHTML =
    history.map(h=>"<p>"+h+"</p>").join("");
}

function loadProfile(){
  if(user){
    document.getElementById("profileInfo").innerHTML=
      "üë§ "+user.first_name+"<br>ID: "+user.id;
  }
}

function loadChart(){
  new TradingView.widget({
    width:"100%",
    height:400,
    symbol:"BINANCE:BTCUSDT",
    interval:"15",
    theme:"dark",
    container_id:"tvchart"
  });
}

renderHistory();
loadProfile();
loadChart();

/* LOADER */

setTimeout(()=>{
  document.getElementById("loader").style.display="none";

  if(!localStorage.getItem("onboardDone")){
    document.getElementById("onboarding").style.display="flex";
  }

},1500);

/* ONBOARDING */

let step=0;

function nextOnboard(){

  const titles=[
    "üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å",
    "üìä –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç",
    "üöÄ –í—Å—ë –≥–æ—Ç–æ–≤–æ"
  ];

  const texts=[
    "–ü–æ–ª—É—á–∞–π—Ç–µ —Ç–æ—á–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã —Ä—ã–Ω–∫–∞",
    "–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞—Ä—É –∏ –ø–æ–ª—É—á–∏—Ç–µ —Å–∏–≥–Ω–∞–ª",
    "–ù–∞—á–Ω–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"
  ];

  step++;

  if(step>=3){
    document.getElementById("onboarding").style.display="none";
    localStorage.setItem("onboardDone","true");
    return;
  }

  document.getElementById("onTitle").innerText=titles[step];
  document.getElementById("onText").innerText=texts[step];
}

</script>

</body>
</html>
