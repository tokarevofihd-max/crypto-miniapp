<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Crypto Signals ULTRA</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="https://s3.tradingview.com/tv.js"></script>

<style>

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');

body{
margin:0;
font-family:Inter;
background:
radial-gradient(circle at 20% 20%, #1e293b, #020617 60%),
linear-gradient(120deg,#020617,#0f172a);
color:white;
overflow-x:hidden;
}

.header{
text-align:center;
font-size:28px;
font-weight:700;
padding:25px;
background:linear-gradient(90deg,#22c55e,#4ade80);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
}

.card{
background:rgba(30,41,59,0.45);
backdrop-filter:blur(20px);
border-radius:20px;
margin:20px;
padding:20px;
box-shadow:0 0 60px rgba(34,197,94,0.15);
animation:fadeIn .6s ease;
}

@keyframes fadeIn{
from{opacity:0; transform:translateY(10px);}
to{opacity:1;}
}

.profile{
background:#020617;
padding:15px;
border-radius:12px;
margin-bottom:15px;
font-size:14px;
}

label{font-size:13px; opacity:.7;}

select{
width:100%;
padding:16px;
border-radius:14px;
border:none;
background:#020617;
color:white;
margin-top:6px;
font-size:15px;
}

button{
width:100%;
padding:18px;
border:none;
border-radius:16px;
font-size:17px;
font-weight:600;
margin-top:15px;
cursor:pointer;
transition:.25s;
}

button:active{transform:scale(.97)}

.btn-primary{
background:linear-gradient(45deg,#22c55e,#4ade80);
}

.btn-secondary{
background:#1e293b;
}

.signal-box{
margin-top:15px;
padding:25px;
border-radius:16px;
text-align:center;
font-size:22px;
font-weight:600;
}

.buy{background:#052e16;color:#4ade80;}
.sell{background:#2e0505;color:#f87171;}

.price{
font-size:24px;
font-weight:600;
margin-top:10px;
}

.status{
margin-top:10px;
font-size:14px;
opacity:.8;
}

.timer{
margin-top:10px;
font-size:13px;
opacity:.6;
}

.tutorial{
position:fixed;
inset:0;
background:#000000dd;
display:flex;
align-items:center;
justify-content:center;
z-index:999;
}

.tutorial-box{
background:#020617;
padding:25px;
border-radius:15px;
max-width:320px;
text-align:center;
}

</style>
</head>

<body>

<div class="header">üöÄ Crypto Signals ULTRA</div>

<div class="card">

<div class="profile" id="profile"></div>

<label>–í–∞–ª—é—Ç–Ω–∞—è –ø–∞—Ä–∞</label>
<select id="pair">
<option>BTCUSDT</option>
<option>ETHUSDT</option>
<option>SOLUSDT</option>
</select>

<label>–¢–∞–π–º—Ñ—Ä–µ–π–º</label>
<select id="timeframe">
<option>1</option>
<option>5</option>
<option>15</option>
<option>60</option>
</select>

<div class="price" id="price">–¶–µ–Ω–∞: ‚Äî</div>
<div class="status" id="marketStatus">Market: Loading‚Ä¶</div>
<div class="timer" id="timer">–°–ª–µ–¥—É—é—â–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: ‚Äî</div>

<button class="btn-secondary" onclick="register()">üë§ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
<button id="signalBtn" class="btn-primary" onclick="getSignal()">üìà –ü–æ–ª—É—á–∏—Ç—å —Å–∏–≥–Ω–∞–ª</button>

<div id="signalBox"></div>

</div>

<div class="card">
<div id="tvchart"></div>
</div>

<div id="tutorial" class="tutorial" style="display:none">
<div class="tutorial-box">
<h3>üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</h3>
<p>
1Ô∏è‚É£ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å<br>
2Ô∏è‚É£ –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞—Ä—É<br>
3Ô∏è‚É£ –ü–æ–ª—É—á–∏—Ç–µ —Å–∏–≥–Ω–∞–ª
</p>
<button class="btn-primary" onclick="closeTutorial()">–ù–∞—á–∞—Ç—å</button>
</div>
</div>

<script>

const tg = window.Telegram.WebApp;
const user = tg.initDataUnsafe?.user;

const SIGNAL_LINK="https://u3.shortink.io/register?utm_campaign=831166&utm_source=affiliate&utm_medium=sr&a=oZKTW7CtCeLnCu&ac=sipi";

let registered = localStorage.getItem("registered")==="true";

function updateProfile(){
if(user){
document.getElementById("profile").innerHTML=
"üë§ "+user.first_name+
"<br>ID: "+user.id+
"<br>Status: "+(registered?"‚úÖ Registered":"‚ùå Not registered");
}
}
updateProfile();

document.getElementById("signalBtn").disabled=!registered;

function register(){
tg.openLink(SIGNAL_LINK);
localStorage.setItem("registered","true");
registered=true;
document.getElementById("signalBtn").disabled=false;
updateProfile();
}

function getSignal(){

const pair=document.getElementById('pair').value;
const price=parseFloat(document.getElementById('price').dataset.value||0);

let signal;

if(price % 2 > 1){
signal="BUY";
}else{
signal="SELL";
}

const box=document.getElementById("signalBox");

if(signal==="BUY"){
box.innerHTML='<div class="signal-box buy">üìà BUY SIGNAL</div>';
}else{
box.innerHTML='<div class="signal-box sell">üìâ SELL SIGNAL</div>';
}

}

async function updatePrice(){

const pair=document.getElementById('pair').value;

try{
const res=await fetch(`https://api.binance.com/api/v3/ticker/price?symbol=${pair}`);
const data=await res.json();

document.getElementById("price").innerText="–¶–µ–Ω–∞: "+parseFloat(data.price).toFixed(2);
document.getElementById("price").dataset.value=data.price;
document.getElementById("marketStatus").innerText="Market: LIVE üü¢";

}catch{
document.getElementById("marketStatus").innerText="Market: Error üî¥";
}

}

function startTimer(){

let seconds=5;

setInterval(()=>{
seconds--;
if(seconds<=0) seconds=5;
document.getElementById("timer").innerText="–°–ª–µ–¥—É—é—â–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: "+seconds+" —Å–µ–∫";
},1000);

}

setInterval(updatePrice,5000);
updatePrice();
startTimer();

function loadChart(){
new TradingView.widget({
width:"100%",
height:420,
symbol:"BINANCE:"+document.getElementById('pair').value,
interval:document.getElementById('timeframe').value,
theme:"dark",
style:"1",
container_id:"tvchart"
});
}

loadChart();

document.getElementById("pair").addEventListener("change",()=>{
updatePrice();
loadChart();
});

document.getElementById("timeframe").addEventListener("change",loadChart);

if(!localStorage.getItem("tutorial")){
document.getElementById("tutorial").style.display="flex";
}

function closeTutorial(){
localStorage.setItem("tutorial","true");
document.getElementById("tutorial").style.display="none";
}

</script>

</body>
</html>
