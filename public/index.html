<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Crypto Signals PRO</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="https://s3.tradingview.com/tv.js"></script>

<style>

body{
margin:0;
font-family:Inter,Arial;
background:radial-gradient(circle at top,#0b1220,#020617);
color:white;
}

.header{
padding:28px;
font-size:28px;
font-weight:700;
text-align:center;
background:linear-gradient(90deg,#22c55e,#4ade80);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
}

.container{padding:20px;}

.card{
background:rgba(15,23,42,0.7);
border-radius:20px;
padding:20px;
margin-bottom:20px;
backdrop-filter:blur(20px);
border:1px solid rgba(255,255,255,0.05);
}

.profile,.market,.trust,.online{
background:#020617;
padding:15px;
border-radius:12px;
margin-bottom:10px;
}

.lang{
position:absolute;
top:20px;
right:20px;
cursor:pointer;
font-size:14px;
background:#020617;
padding:8px 12px;
border-radius:8px;
}

select{
width:100%;
padding:18px;
border-radius:14px;
border:none;
margin-top:10px;
background:#020617;
color:white;
font-size:16px;
}

button{
width:100%;
padding:20px;
border:none;
border-radius:16px;
margin-top:15px;
font-size:18px;
font-weight:600;
cursor:pointer;
}

.btn-primary{
background:linear-gradient(135deg,#22c55e,#16a34a);
}

.btn-secondary{background:#1e293b;}

.signal-box{
margin-top:15px;
padding:22px;
border-radius:15px;
font-size:22px;
text-align:center;
}

.buy{background:#052e16;color:#4ade80;}
.sell{background:#2e0505;color:#f87171;}

.result{
margin-top:15px;
padding:15px;
border-radius:12px;
background:#020617;
}

.learn{
background:#020617;
padding:12px;
border-radius:10px;
margin-top:8px;
font-size:14px;
}

</style>
</head>

<body>

<div class="lang" onclick="toggleLang()" id="langBtn">EN</div>

<div class="header">ğŸš€ Crypto Signals PRO</div>

<div class="container">

<div class="card">

<div id="online" class="online">ğŸ‘¥ Users online: 0</div>
<div id="profile" class="profile"></div>
<div id="market" class="market">Loading market...</div>

<label id="pairLabel">Pair</label>
<select id="pair">
<option>BTCUSDT</option>
<option>ETHUSDT</option>
<option>SOLUSDT</option>
</select>

<label id="tfLabel">Timeframe</label>
<select id="timeframe">
<option>1</option>
<option>5</option>
<option>15</option>
<option>60</option>
</select>

<button class="btn-secondary" onclick="register()" id="regBtn">ğŸ‘¤ Register</button>
<button id="signalBtn" class="btn-primary">ğŸ“ˆ Get Signal</button>

<div id="signalBox"></div>
<div id="timer" class="result"></div>
<div id="result" class="result"></div>

</div>

<div class="card">
<div id="tvchart"></div>
</div>

<div class="card">
<h3 id="learnTitle">ğŸ“š Learn Trading</h3>
<div class="learn" id="learn1">ğŸ“ˆ BUY â†’ Price expected to rise</div>
<div class="learn" id="learn2">ğŸ“‰ SELL â†’ Price expected to fall</div>
<div class="learn" id="learn3">âš ï¸ Never risk more than 2%</div>
</div>

<div class="card trust">
ğŸ”¥ Trusted by traders worldwide<br>
âš¡ Real-time market analysis<br>
ğŸ§  Data-driven signals
</div>

</div>

<script>

const tg = window.Telegram.WebApp;
const user = tg.initDataUnsafe?.user;

const SIGNAL_LINK="https://u3.shortink.io/register";

let registered=localStorage.getItem("registered")==="true";
let widget;
let lastPrice=null;

//// LANGUAGE

let lang=localStorage.getItem("lang")||"en";
applyLang();

function toggleLang(){
lang=lang==="en"?"ru":"en";
localStorage.setItem("lang",lang);
applyLang();
}

function applyLang(){

langBtn.innerText=lang==="en"?"RU":"EN";

if(lang==="ru"){
pairLabel.innerText="ĞŸĞ°Ñ€Ğ°";
tfLabel.innerText="Ğ¢Ğ°Ğ¹Ğ¼Ñ„Ñ€ĞµĞ¹Ğ¼";
regBtn.innerText="ğŸ‘¤ Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ";
signalBtn.innerText="ğŸ“ˆ ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¸Ğ³Ğ½Ğ°Ğ»";
learnTitle.innerText="ğŸ“š ĞĞ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ";
learn1.innerText="ğŸ“ˆ BUY â†’ Ğ¦ĞµĞ½Ğ° Ğ±ÑƒĞ´ĞµÑ‚ Ñ€Ğ°ÑÑ‚Ğ¸";
learn2.innerText="ğŸ“‰ SELL â†’ Ğ¦ĞµĞ½Ğ° Ğ±ÑƒĞ´ĞµÑ‚ Ğ¿Ğ°Ğ´Ğ°Ñ‚ÑŒ";
learn3.innerText="âš ï¸ Ğ Ğ¸ÑĞº Ğ½Ğµ Ğ±Ğ¾Ğ»ĞµĞµ 2%";
}else{
pairLabel.innerText="Pair";
tfLabel.innerText="Timeframe";
regBtn.innerText="ğŸ‘¤ Register";
signalBtn.innerText="ğŸ“ˆ Get Signal";
learnTitle.innerText="ğŸ“š Learn Trading";
learn1.innerText="ğŸ“ˆ BUY â†’ Price expected to rise";
learn2.innerText="ğŸ“‰ SELL â†’ Price expected to fall";
learn3.innerText="âš ï¸ Never risk more than 2%";
}
}

//// FAKE ONLINE

function generateOnline(){
const stored=localStorage.getItem("onlineData");
const now=Date.now();

if(stored){
const data=JSON.parse(stored);
if(now-data.time<3600000){
online.innerText=`ğŸ‘¥ Users online: ${data.value}`;
return;
}
}

const value=Math.floor(Math.random()*500)+800;
localStorage.setItem("onlineData",JSON.stringify({value:value,time:now}));
online.innerText=`ğŸ‘¥ Users online: ${value}`;
}

generateOnline();

//// PROFILE

function updateProfile(){
if(user){
profile.innerHTML=`ğŸ‘¤ ${user.first_name}<br>ID: ${user.id}<br>Status: ${registered?"âœ… Registered":"âŒ Locked"}`;
}
}
updateProfile();
signalBtn.disabled=!registered;

function register(){
tg.openLink(SIGNAL_LINK);
localStorage.setItem("registered","true");
registered=true;
signalBtn.disabled=false;
updateProfile();
result.innerHTML="âœ… Registration completed";
}

//// CHART

function loadChart(){
if(widget) widget.remove();
widget=new TradingView.widget({
width:"100%",
height:400,
symbol:"BINANCE:"+pair.value,
interval:timeframe.value,
theme:"dark",
container_id:"tvchart"
});
}

//// MARKET

async function updateMarket(){
const res=await fetch(`https://api.binance.com/api/v3/ticker/price?symbol=${pair.value}`);
const data=await res.json();
const price=parseFloat(data.price);

let trend="Neutral";
if(lastPrice){
trend=price>lastPrice?"ğŸŸ¢ Bullish":"ğŸ”´ Bearish";
}
lastPrice=price;

market.innerHTML=`ğŸ’° Price: ${price.toFixed(2)}<br>ğŸ“Š Market: ${trend}`;
}

//// SIGNAL

async function getSignal(){
const res=await fetch(`https://api.binance.com/api/v3/ticker/price?symbol=${pair.value}`);
const data=await res.json();
const price=parseFloat(data.price);

let signal="BUY";
if(lastPrice) signal=price>lastPrice?"BUY":"SELL";
lastPrice=price;

signalBox.innerHTML=signal==="BUY"
?'<div class="signal-box buy">ğŸ“ˆ BUY SIGNAL</div>'
:'<div class="signal-box sell">ğŸ“‰ SELL SIGNAL</div>';

startTimer();
}

function startTimer(){
let seconds=60;
const interval=setInterval(()=>{
seconds--;
timer.innerHTML="â± Next signal in "+seconds+" sec";
if(seconds<=0){
clearInterval(interval);
timer.innerHTML="âœ… Ready";
}
},1000);
}

signalBtn.onclick=getSignal;

pair.addEventListener("change",()=>{
loadChart();
updateMarket();
});

timeframe.addEventListener("change",loadChart);

loadChart();
updateMarket();
setInterval(updateMarket,5000);

</script>

</body>
</html>
