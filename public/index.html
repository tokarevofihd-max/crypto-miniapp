<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Crypto Signals ULTRA</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="https://s3.tradingview.com/tv.js"></script>

<style>

*{box-sizing:border-box}

body{
margin:0;
font-family:Inter,system-ui,Arial;
background:
radial-gradient(circle at 20% 20%,#0f172a,#020617 70%),
linear-gradient(180deg,#020617,#000);
color:white;
overflow-x:hidden;
}

.header{
text-align:center;
font-size:28px;
padding:25px;
font-weight:700;
background:linear-gradient(90deg,#22c55e,#4ade80,#22c55e);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
letter-spacing:1px;
}

.card{
background:rgba(15,23,42,0.6);
backdrop-filter:blur(20px);
border-radius:20px;
margin:15px;
padding:20px;
border:1px solid rgba(255,255,255,0.06);
box-shadow:0 0 40px rgba(34,197,94,0.08);
animation:fadeIn .6s ease;
}

@keyframes fadeIn{
from{opacity:0;transform:translateY(10px)}
to{opacity:1}
}

.profile{
background:#020617;
padding:15px;
border-radius:12px;
font-size:14px;
margin-bottom:15px;
}

.market-box{
display:flex;
justify-content:space-between;
align-items:center;
background:#020617;
padding:15px;
border-radius:12px;
margin-bottom:10px;
}

.price{
font-size:24px;
font-weight:600;
}

.status{
font-size:13px;
opacity:.7;
}

select{
width:100%;
padding:18px;
border-radius:14px;
border:none;
margin-top:12px;
background:#020617;
color:white;
font-size:16px;
}

button{
width:100%;
padding:20px;
border:none;
border-radius:16px;
margin-top:15px;
font-size:18px;
font-weight:600;
cursor:pointer;
transition:.25s;
}

button:active{transform:scale(.97)}

.btn-primary{
background:linear-gradient(135deg,#22c55e,#16a34a);
box-shadow:0 15px 35px rgba(34,197,94,.35);
}

.btn-secondary{
background:#1e293b;
}

.signal-box{
margin-top:15px;
padding:25px;
border-radius:16px;
text-align:center;
font-size:22px;
font-weight:700;
animation:pulse 2s infinite;
}

.buy{
background:#052e16;
color:#4ade80;
box-shadow:0 0 25px rgba(34,197,94,.4);
}

.sell{
background:#2e0505;
color:#f87171;
box-shadow:0 0 25px rgba(248,113,113,.4);
}

@keyframes pulse{
0%,100%{transform:scale(1)}
50%{transform:scale(1.02)}
}

.timer{
margin-top:10px;
font-size:13px;
opacity:.7;
text-align:center;
}

.learn{
margin-top:10px;
padding:15px;
border-radius:12px;
background:#020617;
font-size:14px;
}

</style>
</head>

<body>

<div class="header">üöÄ Crypto Signals</div>

<div class="card">

<div id="profile" class="profile"></div>

<div class="market-box">
<div>
<div class="price" id="price">‚Äî</div>
<div class="status" id="status">Loading market‚Ä¶</div>
</div>
<div class="status" id="timer"></div>
</div>

<select id="pair">
<option>BTCUSDT</option>
<option>ETHUSDT</option>
<option>SOLUSDT</option>
</select>

<select id="timeframe">
<option>1</option>
<option>5</option>
<option>15</option>
<option>60</option>
</select>

<button class="btn-secondary" onclick="register()">üë§ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
<button id="signalBtn" class="btn-primary" onclick="getSignal()">üìà –ü–æ–ª—É—á–∏—Ç—å —Å–∏–≥–Ω–∞–ª</button>

<div id="signalBox"></div>

</div>

<div class="card">
<div id="tvchart"></div>
</div>

<div class="card">
<h3>üìö –û–±—É—á–µ–Ω–∏–µ</h3>
<div class="learn">üìà BUY ‚Äî —Å–∏–≥–Ω–∞–ª –Ω–∞ —Ä–æ—Å—Ç</div>
<div class="learn">üìâ SELL ‚Äî —Å–∏–≥–Ω–∞–ª –Ω–∞ –ø–∞–¥–µ–Ω–∏–µ</div>
<div class="learn">‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∏—Å–∫ –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç</div>
</div>

<script>

const tg = window.Telegram.WebApp;
tg.ready();

const user = tg.initDataUnsafe?.user;

let registered = localStorage.getItem("registered")==="true";

const SIGNAL_LINK="https://u3.shortink.io/register?utm_campaign=831166&utm_source=affiliate&utm_medium=sr&a=oZKTW7CtCeLnCu&ac=sipi";

function updateProfile(){
if(user){
profile.innerHTML="üë§ "+user.first_name+"<br>ID: "+user.id+"<br>Status: "+(registered?"‚úÖ Registered":"‚ùå Not registered");
}
}
updateProfile();

signalBtn.disabled=!registered;

function register(){
tg.openLink(SIGNAL_LINK);
localStorage.setItem("registered","true");
registered=true;
signalBtn.disabled=false;
updateProfile();
}

let lastPrice=0;

async function updateMarket(){
const res=await fetch("https://api.binance.com/api/v3/ticker/price?symbol="+pair.value);
const data=await res.json();

const price=parseFloat(data.price);
priceEl=price.toFixed(2);

price.innerText=priceEl;

let trend="LIVE üü¢";
if(lastPrice){
trend=price>lastPrice?"Bullish üü¢":"Bearish üî¥";
}

status.innerText=trend;
lastPrice=price;
}

function getSignal(){
if(!lastPrice)return;

const signal=lastPrice%2>1?"BUY":"SELL";

signalBox.innerHTML=signal==="BUY"
?'<div class="signal-box buy">üìà BUY SIGNAL</div>'
:'<div class="signal-box sell">üìâ SELL SIGNAL</div>';
}

let sec=5;
setInterval(()=>{
sec--;
if(sec<=0)sec=5;
timer.innerText="Update "+sec+"s";
},1000);

setInterval(updateMarket,5000);
updateMarket();

let widget;

function loadChart(){
tvchart.innerHTML="";
widget=new TradingView.widget({
width:"100%",
height:400,
symbol:"BINANCE:"+pair.value,
interval:timeframe.value,
theme:"dark",
style:"1",
container_id:"tvchart"
});
}

loadChart();

pair.addEventListener("change",()=>{
updateMarket();
loadChart();
});

timeframe.addEventListener("change",loadChart);

</script>

</body>
</html>
